;(function($){if(!window.console){window.console={log:function(){},debug:function(){}};}
if(!$.objectSize){$.objectSize=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++;}
return size;};}
$(function(){if(!Modernizr.placeholder){$('input[placeholder], textarea[placeholder]').placeholder();}
var videoEmbed=$('#video-player-container iframe');if(videoEmbed.length){$('.seatosun_video').find('.wp-post-image, .video-title').click(function(event){event.preventDefault();var self=$(this);var embedURL=self.closest('[data-embed-url]').attr('data-embed-url');if(embedURL){var currentEmbedURL=videoEmbed.attr('src');if(embedURL!=currentEmbedURL){videoEmbed.attr('src',embedURL);}}});}
if(SC){var soundCloudPlayer={playerInitialized:false,currentTrackID:null,currentTrackIDList:null,currentSoundObject:null,cachedTrackData:[],cachedSoundObjects:[],firstTrackNumber:0,lastTrackNumber:0,currentTrackNumber:0,playerState:'paused',playerIsMuted:false,currentVolume:100,playerContainer:null,trackTitleElem:null,trackDurationElem:null,playPauseButton:null,previousButton:null,nextButton:null,volumeButton:null,showHidePlaylistButton:null,init:function(){this.playerContainer=$('#soundcloud-player-container');this.trackTitleElem=this.playerContainer.find('.track-title');this.trackDurationElem=this.playerContainer.find('.track-duration');this.playPauseButton=this.playerContainer.find('.play-pause');this.previousButton=this.playerContainer.find('.previous');this.nextButton=this.playerContainer.find('.next');this.volumeButton=this.playerContainer.find('.volume');this.showHidePlaylistButton=this.playerContainer.find('.track-list');this.updateCurrentTrackID();this.updateCurrentTrackInfo();this.previousButton.click(function(event){event.preventDefault();soundCloudPlayer.playPreviousTrack();});this.nextButton.click(function(event){event.preventDefault();soundCloudPlayer.playNextTrack();});this.playPauseButton.click(function(event){event.preventDefault();if(!soundCloudPlayer.playerInitialized){soundCloudPlayer.playerInitialized=true;soundCloudPlayer.playerState='playing';SC.stream('/tracks/'+soundCloudPlayer.currentTrackID,function(sound){soundCloudPlayer.updateCurrentSoundObject(sound);soundCloudPlayer.playCurrentTrack();});}else{switch(soundCloudPlayer.playerState){case'paused':soundCloudPlayer.playCurrentTrack();break;case'playing':soundCloudPlayer.pauseCurrentTrack();break;default:console.log('Invalid player state; only "paused" and "playing" are accepted. Check your code for spelling errors.');break;}}});this.volumeButton.click(function(event){event.preventDefault();if(soundCloudPlayer.playerIsMuted){soundCloudPlayer.playerIsMuted=false;soundCloudPlayer.volumeButton.removeClass('muted');soundCloudPlayer.currentSoundObject.unmute();}else{soundCloudPlayer.playerIsMuted=true;soundCloudPlayer.volumeButton.addClass('muted');soundCloudPlayer.currentSoundObject.mute();}});this.showHidePlaylistButton.click(function(event){event.preventDefault();soundCloudPlayer.showHidePlaylistButton.toggleClass('visible');});},updateCurrentSoundObject:function(sound){if(!soundCloudPlayer.cachedSoundObjects[soundCloudPlayer.currentTrackID]){soundCloudPlayer.cachedSoundObjects[soundCloudPlayer.currentTrackID]=sound;}
if(soundCloudPlayer.cachedSoundObjects[soundCloudPlayer.currentTrackID]){soundCloudPlayer.currentSoundObject=soundCloudPlayer.cachedSoundObjects[soundCloudPlayer.currentTrackID];}},updateCurrentTrackIDList:function(idList){if(!idList){idList=soundCloudPlayer.playerContainer.attr('data-track-id-list');}
if(idList){if(typeof idList!='object'){try{idList=$.parseJSON(idList);soundCloudPlayer.currentTrackIDList=idList;soundCloudPlayer.firstTrackNumber=0;soundCloudPlayer.lastTrackNumber=$.objectSize(soundCloudPlayer.currentTrackIDList)-1;soundCloudPlayer.currentTrackNumber=soundCloudPlayer.firstTrackNumber;}catch(error){console.log(error);}}}},updateCurrentTrackID:function(id){if(!soundCloudPlayer.currentTrackIDList){soundCloudPlayer.updateCurrentTrackIDList();}
if(!id){id=soundCloudPlayer.currentTrackIDList[soundCloudPlayer.currentTrackNumber];}
if(id){soundCloudPlayer.currentTrackID=id;}},updateCurrentTrackNumber:function(trackNumber){if(trackNumber!=null){soundCloudPlayer.currentTrackNumber=trackNumber;}},updateCurrentTrackInfo:function(){if(soundCloudPlayer.playerInitialized){soundManager.stopAll();}
if(!soundCloudPlayer.currentTrackIDList){soundCloudPlayer.updateCurrentTrackIDList();}
if(!soundCloudPlayer.currentTrackID){soundCloudPlayer.updateCurrentTrackID();}
soundCloudPlayer.currentTrackID=soundCloudPlayer.currentTrackIDList[soundCloudPlayer.currentTrackNumber];if(!soundCloudPlayer.cachedTrackData[soundCloudPlayer.currentTrackID]){SC.get("/tracks/"+soundCloudPlayer.currentTrackID,function(track,error){if(error){console.log(error.message);return false;}else{soundCloudPlayer.cachedTrackData[soundCloudPlayer.currentTrackID]=track;soundCloudPlayer.updateTrack(track);}});}else{var track=soundCloudPlayer.cachedTrackData[soundCloudPlayer.currentTrackID];soundCloudPlayer.updateTrack(track);}},updateTrack:function(track){if(!track){console.log('updateTrack :: Invalid or missing track object');return false;}else{soundCloudPlayer.trackTitleElem.html(track.title);soundCloudPlayer.trackDurationElem.html(soundCloudPlayer.formatTrackDuration(track.duration));SC.stream('/tracks/'+soundCloudPlayer.currentTrackID,function(sound){soundCloudPlayer.updateCurrentSoundObject(sound);if(soundCloudPlayer.playerState!='paused'){soundCloudPlayer.currentSoundObject.play();}});}},playCurrentTrack:function(){soundCloudPlayer.playerState='playing';soundCloudPlayer.playPauseButton.removeClass('paused').addClass('playing');if(soundCloudPlayer.playerIsMuted){soundCloudPlayer.currentSoundObject.mute();}
soundCloudPlayer.currentSoundObject.play();},pauseCurrentTrack:function(){soundCloudPlayer.playerState='paused';soundCloudPlayer.playPauseButton.removeClass('playing').addClass('paused');soundCloudPlayer.currentSoundObject.pause();},playNextOrPreviousTrack:function(nextOrPrev){var newTrackNumber;var newTrackID;switch(nextOrPrev){case'prev':case'previous':newTrackNumber=soundCloudPlayer.currentTrackNumber-1;newTrackID=soundCloudPlayer.currentTrackIDList[newTrackNumber];if(!newTrackID){newTrackNumber=soundCloudPlayer.lastTrackNumber;newTrackID=soundCloudPlayer.currentTrackIDList[newTrackNumber];}
break;case'next':default:newTrackNumber=soundCloudPlayer.currentTrackNumber+1;newTrackID=soundCloudPlayer.currentTrackIDList[newTrackNumber];if(!newTrackID){newTrackNumber=soundCloudPlayer.firstTrackNumber;newTrackID=soundCloudPlayer.currentTrackIDList[newTrackNumber];}
break;}
if(newTrackID){console.log(newTrackNumber+', '+newTrackID);soundCloudPlayer.updateCurrentTrackNumber(newTrackNumber);soundCloudPlayer.updateCurrentTrackID(newTrackID);soundCloudPlayer.updateCurrentTrackInfo();}},playNextTrack:function(){soundCloudPlayer.playNextOrPreviousTrack('next');},playPreviousTrack:function(){this.playNextOrPreviousTrack('previous');},formatTrackDuration:function(ms){var seconds=Math.floor(ms/1000);var minutes=Math.floor(seconds/60);if(minutes){seconds-=minutes*60;minutes=(minutes<10?'0'+minutes:minutes);}else{minutes='00';}
seconds=(seconds<10?'0'+seconds:seconds);return minutes+":"+seconds;},};soundCloudPlayer.init();}});})(jQuery);if(Modernizr){Modernizr.addTest('placeholder',!!("placeholder"in document.createElement("input")));Modernizr.addTest('lastchild',function(){var hasLastChild,rules=['#modernizr-last-child li{display:block;width:100px;height:100px;}','#modernizr-last-child li:last-child{width:200px;}'],head=document.getElementsByTagName('head')[0]||(function(){return document.documentElement.appendChild(document.createElement('head'));}()),root=document.body||(function(){return document.documentElement.appendChild(document.createElement('body'));}()),list=document.createElement('ul'),firstChild=document.createElement('li'),lastChild=document.createElement('li'),style=document.createElement('style');style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=rules.join('');}
else{style.appendChild(document.createTextNode(rules.join('')));}
head.appendChild(style);list.id="modernizr-last-child";list.appendChild(firstChild);list.appendChild(lastChild);root.appendChild(list);hasLastChild=lastChild.offsetWidth>firstChild.offsetWidth;head.removeChild(style);root.removeChild(list);return hasLastChild;});Modernizr.addTest('firstchild',function(){var hasFirstChild,rules=['#modernizr-first-child li{display:block;width:100px;height:100px;}','#modernizr-first-child li:first-child{width:200px;}'],head=document.getElementsByTagName('head')[0]||(function(){return document.documentElement.appendChild(document.createElement('head'));}()),root=document.body||(function(){return document.documentElement.appendChild(document.createElement('body'));}()),list=document.createElement('ul'),firstChild=document.createElement('li'),lastChild=document.createElement('li'),style=document.createElement('style');style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=rules.join('');}
else{style.appendChild(document.createTextNode(rules.join('')));}
head.appendChild(style);list.id="modernizr-first-child";list.appendChild(firstChild);list.appendChild(lastChild);root.appendChild(list);hasFirstChild=firstChild.offsetWidth>lastChild.offsetWidth;head.removeChild(style);root.removeChild(list);return hasFirstChild;});}
